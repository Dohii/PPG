{"ast":null,"code":"\"use strict\";\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar React = require(\"react\"),\n    React__default = _interopDefault(React),\n    reactDom = require(\"react-dom\"),\n    PT = _interopDefault(require(\"prop-types\")),\n    uniqid = _interopDefault(require(\"uniqid\")),\n    browserOrNode = require(\"browser-or-node\");\n\nfunction _classCallCheck(e, t) {\n  if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n}\n\nfunction _defineProperties(e, t) {\n  for (var r = 0; r < t.length; r++) {\n    var o = t[r];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, o.key, o);\n  }\n}\n\nfunction _createClass(e, t, r) {\n  return t && _defineProperties(e.prototype, t), r && _defineProperties(e, r), e;\n}\n\nfunction _defineProperty(e, t, r) {\n  return t in e ? Object.defineProperty(e, t, {\n    value: r,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[t] = r, e;\n}\n\nfunction _objectSpread(e) {\n  for (var t = 1; t < arguments.length; t++) {\n    var r = null != arguments[t] ? arguments[t] : {},\n        o = Object.keys(r);\n    \"function\" == typeof Object.getOwnPropertySymbols && (o = o.concat(Object.getOwnPropertySymbols(r).filter(function (e) {\n      return Object.getOwnPropertyDescriptor(r, e).enumerable;\n    }))), o.forEach(function (t) {\n      _defineProperty(e, t, r[t]);\n    });\n  }\n\n  return e;\n}\n\nfunction _inherits(e, t) {\n  if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n  e.prototype = Object.create(t && t.prototype, {\n    constructor: {\n      value: e,\n      writable: !0,\n      configurable: !0\n    }\n  }), t && _setPrototypeOf(e, t);\n}\n\nfunction _getPrototypeOf(e) {\n  return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction _setPrototypeOf(e, t) {\n  return (_setPrototypeOf = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nfunction _possibleConstructorReturn(e, t) {\n  return !t || \"object\" != typeof t && \"function\" != typeof t ? _assertThisInitialized(e) : t;\n}\n\nfunction _toConsumableArray(e) {\n  return _arrayWithoutHoles(e) || _iterableToArray(e) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(e) {\n  if (Array.isArray(e)) {\n    for (var t = 0, r = new Array(e.length); t < e.length; t++) {\n      r[t] = e[t];\n    }\n\n    return r;\n  }\n}\n\nfunction _iterableToArray(e) {\n  if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction isObject(e) {\n  var t = typeof e;\n  return null != e && (\"object\" == t || \"function\" == t);\n}\n\nvar isObject_1 = isObject,\n    commonjsGlobal = \"undefined\" != typeof window ? window : \"undefined\" != typeof global ? global : \"undefined\" != typeof self ? self : {},\n    freeGlobal = \"object\" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal,\n    _freeGlobal = freeGlobal,\n    freeSelf = \"object\" == typeof self && self && self.Object === Object && self,\n    root = _freeGlobal || freeSelf || Function(\"return this\")(),\n    _root = root,\n    now = function now() {\n  return _root.Date.now();\n},\n    now_1 = now,\n    Symbol$1 = _root.Symbol,\n    _Symbol = Symbol$1,\n    objectProto = Object.prototype,\n    hasOwnProperty = objectProto.hasOwnProperty,\n    nativeObjectToString = objectProto.toString,\n    symToStringTag = _Symbol ? _Symbol.toStringTag : void 0;\n\nfunction getRawTag(e) {\n  var t = hasOwnProperty.call(e, symToStringTag),\n      r = e[symToStringTag];\n\n  try {\n    e[symToStringTag] = void 0;\n    var o = !0;\n  } catch (e) {}\n\n  var n = nativeObjectToString.call(e);\n  return o && (t ? e[symToStringTag] = r : delete e[symToStringTag]), n;\n}\n\nvar _getRawTag = getRawTag,\n    objectProto$1 = Object.prototype,\n    nativeObjectToString$1 = objectProto$1.toString;\n\nfunction objectToString(e) {\n  return nativeObjectToString$1.call(e);\n}\n\nvar _objectToString = objectToString,\n    nullTag = \"[object Null]\",\n    undefinedTag = \"[object Undefined]\",\n    symToStringTag$1 = _Symbol ? _Symbol.toStringTag : void 0;\n\nfunction baseGetTag(e) {\n  return null == e ? void 0 === e ? undefinedTag : nullTag : symToStringTag$1 && symToStringTag$1 in Object(e) ? _getRawTag(e) : _objectToString(e);\n}\n\nvar _baseGetTag = baseGetTag;\n\nfunction isObjectLike(e) {\n  return null != e && \"object\" == typeof e;\n}\n\nvar isObjectLike_1 = isObjectLike,\n    symbolTag = \"[object Symbol]\";\n\nfunction isSymbol(e) {\n  return \"symbol\" == typeof e || isObjectLike_1(e) && _baseGetTag(e) == symbolTag;\n}\n\nvar isSymbol_1 = isSymbol,\n    NAN = NaN,\n    reTrim = /^\\s+|\\s+$/g,\n    reIsBadHex = /^[-+]0x[0-9a-f]+$/i,\n    reIsBinary = /^0b[01]+$/i,\n    reIsOctal = /^0o[0-7]+$/i,\n    freeParseInt = parseInt;\n\nfunction toNumber(e) {\n  if (\"number\" == typeof e) return e;\n  if (isSymbol_1(e)) return NAN;\n\n  if (isObject_1(e)) {\n    var t = \"function\" == typeof e.valueOf ? e.valueOf() : e;\n    e = isObject_1(t) ? t + \"\" : t;\n  }\n\n  if (\"string\" != typeof e) return 0 === e ? e : +e;\n  e = e.replace(reTrim, \"\");\n  var r = reIsBinary.test(e);\n  return r || reIsOctal.test(e) ? freeParseInt(e.slice(2), r ? 2 : 8) : reIsBadHex.test(e) ? NAN : +e;\n}\n\nvar toNumber_1 = toNumber,\n    FUNC_ERROR_TEXT = \"Expected a function\",\n    nativeMax = Math.max,\n    nativeMin = Math.min;\n\nfunction debounce(e, t, r) {\n  var o,\n      n,\n      i,\n      a,\n      l,\n      s,\n      c = 0,\n      u = !1,\n      f = !1,\n      g = !0;\n  if (\"function\" != typeof e) throw new TypeError(FUNC_ERROR_TEXT);\n\n  function p(t) {\n    var r = o,\n        i = n;\n    return o = n = void 0, c = t, a = e.apply(i, r);\n  }\n\n  function d(e) {\n    var r = e - s;\n    return void 0 === s || r >= t || r < 0 || f && e - c >= i;\n  }\n\n  function y() {\n    var e = now_1();\n    if (d(e)) return b(e);\n    l = setTimeout(y, function (e) {\n      var r = t - (e - s);\n      return f ? nativeMin(r, i - (e - c)) : r;\n    }(e));\n  }\n\n  function b(e) {\n    return l = void 0, g && o ? p(e) : (o = n = void 0, a);\n  }\n\n  function _() {\n    var e = now_1(),\n        r = d(e);\n\n    if (o = arguments, n = this, s = e, r) {\n      if (void 0 === l) return function (e) {\n        return c = e, l = setTimeout(y, t), u ? p(e) : a;\n      }(s);\n      if (f) return l = setTimeout(y, t), p(s);\n    }\n\n    return void 0 === l && (l = setTimeout(y, t)), a;\n  }\n\n  return t = toNumber_1(t) || 0, isObject_1(r) && (u = !!r.leading, i = (f = \"maxWait\" in r) ? nativeMax(toNumber_1(r.maxWait) || 0, t) : i, g = \"trailing\" in r ? !!r.trailing : g), _.cancel = function () {\n    void 0 !== l && clearTimeout(l), c = 0, o = s = n = l = void 0;\n  }, _.flush = function () {\n    return void 0 === l ? a : b(now_1());\n  }, _;\n}\n\nvar debounce_1 = debounce;\nbrowserOrNode.isBrowser && Promise.resolve(require(\"lightgallery.js\")).then(function () {\n  console.info(\"lightgallery.js is loaded\"), Promise.resolve(require(\"lg-fullscreen.js\")).then(function () {\n    console.info(\"lg-fullscreen.js is loaded\");\n  }), Promise.resolve(require(\"lg-zoom.js\")).then(function () {\n    console.info(\"lg-zoom.js is loaded\");\n  }), Promise.resolve(require(\"lg-thumbnail.js\")).then(function () {\n    console.info(\"lg-thumbnail.js is loaded\");\n  });\n});\n\nvar lightgalleryContext = React.createContext(),\n    addPrefix = function addPrefix(e) {\n  return \"react_lightgallery_\".concat(e);\n},\n    LightgalleryProvider = function (e) {\n  function t() {\n    var e, r;\n\n    _classCallCheck(this, t);\n\n    for (var o = arguments.length, n = new Array(o), i = 0; i < o; i++) {\n      n[i] = arguments[i];\n    }\n\n    return _defineProperty(_assertThisInitialized(r = _possibleConstructorReturn(this, (e = _getPrototypeOf(t)).call.apply(e, [this].concat(n)))), \"groups\", {}), _defineProperty(_assertThisInitialized(r), \"gallery_element\", React.createRef()), _defineProperty(_assertThisInitialized(r), \"_forceUpdate\", debounce_1(r.forceUpdate, 50)), _defineProperty(_assertThisInitialized(r), \"getLgUid\", function () {\n      if (r.gallery_element.current) return r.gallery_element.current.getAttribute(\"lg-uid\");\n    }), _defineProperty(_assertThisInitialized(r), \"registerPhoto\", function (e, t, o) {\n      r.groups = _objectSpread({}, r.groups, _defineProperty({}, t, [].concat(_toConsumableArray(r.groups[t] || []), [_objectSpread({}, o, {\n        id: e\n      })]))), r._forceUpdate();\n    }), _defineProperty(_assertThisInitialized(r), \"unregisterPhoto\", function (e, t) {\n      r.groups = _objectSpread({}, r.groups, _defineProperty({}, t, r.groups[t].filter(function (t) {\n        return t.id !== e;\n      }))), r._forceUpdate();\n    }), _defineProperty(_assertThisInitialized(r), \"openGallery\", function (e, t) {\n      if (r.gallery_element.current) {\n        if (r.groups.hasOwnProperty(t)) {\n          window.lgData && window.lgData[r.getLgUid()] && window.lgData[r.getLgUid()].destroy(!0);\n          var o = r.groups[t];\n          lightGallery(r.gallery_element.current, _objectSpread({}, r.props.lightgallerySettings || {}, {\n            dynamic: !0,\n            dynamicEl: o,\n            index: o.findIndex(function (t) {\n              return t.id === e;\n            })\n          }));\n        } else console.error(\"Trying to open undefined group\");\n      } else console.error(\"Error on trying to open gallery; ref 'gallery_element' is not defined\");\n    }), r;\n  }\n\n  return _inherits(t, React.Component), _createClass(t, [{\n    key: \"render\",\n    value: function value() {\n      var e = this.props,\n          t = e.galleryClassName,\n          r = void 0 === t ? addPrefix(\"gallery\") : t,\n          o = e.portalElementSelector,\n          n = null;\n      return browserOrNode.isBrowser && (n = o ? document.querySelector(o) : document.body), React__default.createElement(lightgalleryContext.Provider, {\n        value: {\n          registerPhoto: this.registerPhoto,\n          unregisterPhoto: this.unregisterPhoto,\n          openGallery: this.openGallery\n        }\n      }, this.props.children, browserOrNode.isBrowser && reactDom.createPortal(React__default.createElement(\"div\", {\n        className: r,\n        ref: this.gallery_element\n      }), n));\n    }\n  }]), t;\n}();\n\n_defineProperty(LightgalleryProvider, \"propTypes\", {\n  children: PT.any,\n  lightgallerySettings: PT.object,\n  galleryClassName: PT.string,\n  portalElementSelector: PT.string\n});\n\nvar LightgalleryItem = function (e) {\n  function t() {\n    var e, r;\n\n    _classCallCheck(this, t);\n\n    for (var o = arguments.length, n = new Array(o), i = 0; i < o; i++) {\n      n[i] = arguments[i];\n    }\n\n    return _defineProperty(_assertThisInitialized(r = _possibleConstructorReturn(this, (e = _getPrototypeOf(t)).call.apply(e, [this].concat(n)))), \"state\", {\n      id: uniqid()\n    }), _defineProperty(_assertThisInitialized(r), \"register\", function () {\n      r.context.registerPhoto(r.state.id, r.props.group, {\n        src: r.props.src,\n        thumb: r.props.src,\n        subHtml: r.props.subHtml || \"\",\n        downloadUrl: r.props.downloadUrl || \"\"\n      });\n    }), _defineProperty(_assertThisInitialized(r), \"unregister\", function () {\n      r.context.unregisterPhoto(r.state.id, r.props.group);\n    }), _defineProperty(_assertThisInitialized(r), \"open\", function () {\n      r.context.openGallery(r.state.id, r.props.group);\n    }), r;\n  }\n\n  return _inherits(t, React.Component), _createClass(t, [{\n    key: \"componentDidMount\",\n    value: function value() {\n      this.register();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function value() {\n      this.unregister();\n    }\n  }, {\n    key: \"render\",\n    value: function value() {\n      var e = this.props,\n          t = e.itemClassName,\n          r = void 0 === t ? addPrefix(\"item\") : t,\n          o = e.children;\n      return React__default.createElement(\"div\", {\n        className: r,\n        onClick: this.open\n      }, o);\n    }\n  }]), t;\n}();\n\n_defineProperty(LightgalleryItem, \"propTypes\", {\n  children: PT.any,\n  group: PT.string.isRequired,\n  src: PT.string.isRequired,\n  subHtml: PT.oneOfType([PT.string, PT.object]),\n  downloadUrl: PT.string,\n  itemClassName: PT.string\n}), _defineProperty(LightgalleryItem, \"contextType\", lightgalleryContext), exports.LightgalleryProvider = LightgalleryProvider, exports.LightgalleryItem = LightgalleryItem;","map":null,"metadata":{},"sourceType":"script"}